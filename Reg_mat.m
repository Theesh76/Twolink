function W = Reg_mat(q,dq,ddq)
x0 = ((dq(1))*(dq(1)));
x1 = ddq(1) + ddq(2);
x2 = sin(q(2));
x3 = dq(1)*x2;
x4 = dq(1) + dq(2);
x5 = cos(q(2));
x6 = ddq(1)*x5 - dq(2)*x3 + x3*x4;
x7 = -((x4)*(x4));
x8 = dq(1)*x5;
x9 = ddq(1)*x2 + dq(2)*x8;
x10 = x4*x8;
x11 = x10 - x9;
H = zeros(2,20);
  H(1) = 0;
  H(2) = 0;
  H(3) = 0;
  H(4) = 0;
  H(5) = 0;
  H(6) = ddq(1);
  H(7) = 2*ddq(1);
  H(8) = 0;
  H(8) = 0;
  H(10) = ddq(1);
  H(11) = 0;
  H(12) = 0;
  H(13) = 0;
  H(14) = 0;
  H(15) = 0;
  H(16) = x1;
  H(17) = x1*x5 + x2*x7 + x6;
  H(18) = -x1*x2 + x11 + x5*x7;
  H(19) = 0;
  H(20) = x2*(-x10 + x9) + x5*x6;
  H(21) = 0;
  H(22) = 0;
  H(23) = 0;
  H(24) = 0;
  H(25) = 0;
  H(26) = 0;
  H(27) = 0;
  H(28) = 0;
  H(29) = 0;
  H(30) = 0;
  H(31) = 0;
  H(32) = 0;
  H(33) = 0;
  H(34) = 0;
  H(35) = 0;
  H(36) = x1;
  H(37) = x6;
  H(38) = x11;
  H(39) = 0;
  H(40) = 0;
  Wl = zeros(2,20);
  k = 1;
     for i = 1:2
         for j = 1:20
             Wl(i,j) = H(k); 
             k = k+1;
         end
     end
     Wb1 = Wl(:,6);
     Wb2 = Wl(:,17);
     Wb3 = Wl(:,18);
     Wb4 = Wl(:,16);
     W = [Wb1,Wb2,Wb3,Wb4];
end